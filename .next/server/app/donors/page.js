(()=>{var e={};e.id=796,e.ids=[796],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},2631:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>o.a,__next_app__:()=>u,originalPathname:()=>p,pages:()=>c,routeModule:()=>m,tree:()=>d}),a(4188),a(8517),a(5866);var s=a(3191),r=a(8716),n=a(7922),o=a.n(n),l=a(5231),i={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>l[e]);a.d(t,i);let d=["",{children:["donors",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,4188)),"/workspace/app/donors/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,8517)),"/workspace/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,5866,23)),"next/dist/client/components/not-found-error"]}],c=["/workspace/app/donors/page.tsx"],p="/donors/page",u={require:a,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/donors/page",pathname:"/donors",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},7167:(e,t,a)=>{Promise.resolve().then(a.bind(a,9728))},9011:(e,t,a)=>{Promise.resolve().then(a.bind(a,3644))},1251:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,2994,23)),Promise.resolve().then(a.t.bind(a,6114,23)),Promise.resolve().then(a.t.bind(a,9727,23)),Promise.resolve().then(a.t.bind(a,9671,23)),Promise.resolve().then(a.t.bind(a,1868,23)),Promise.resolve().then(a.t.bind(a,4759,23))},9728:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>m});var s=a(326),r=a(7577),n=a(3855),o=a(9635),l=a(5932),i=a(2887),d=a(7427),c=a(5206),p=a(8091),u=a(790);function m(){let[e,t]=(0,r.useState)([{id:1,name:"John Smith",email:"john@email.com",phone:"555-0123",totalGiven:2500,lastDonation:"2024-06-15",type:"Individual"},{id:2,name:"ABC Foundation",email:"grants@abc.org",phone:"555-0456",totalGiven:1e4,lastDonation:"2024-07-01",type:"Foundation"},{id:3,name:"Tech Corp",email:"giving@techcorp.com",phone:"555-0789",totalGiven:5e3,lastDonation:"2024-06-20",type:"Corporate"}]),[a,m]=(0,r.useState)(!1),[x,h]=(0,r.useState)(null),[g,y]=(0,r.useState)({name:"",email:"",phone:"",type:"Individual"}),f=(e=null)=>{h(e),e?y({name:e.name,email:e.email,phone:e.phone,type:e.type}):y({name:"",email:"",phone:"",type:"Individual"}),m(!0)},v=()=>{m(!1),h(null),y({name:"",email:"",phone:"",type:"Individual"})},b=async e=>{try{let t={to:e.email,subject:"Welcome to Our Nonprofit Family!",htmlContent:`<h2>Welcome to Our Nonprofit Family!</h2><p>Dear <strong>${e.name}</strong>,</p><p>Welcome to our community! We are thrilled to have you join our mission to create positive change. Your support helps us reach more people and make a greater impact.</p><ul><li>Stay updated with our monthly newsletter</li><li>Join our volunteer opportunities</li><li>Attend our community events</li></ul><p>Thank you for being part of our journey!</p><p>Best regards,<br>The Nonprofit Team</p>`,variables:{DONOR_NAME:e.name},type:"welcome"},a=await fetch("/api/send-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),s=await a.json();s.success?alert(`🎉 ${e.name} added successfully!

📧 Welcome email sent to ${e.email}.

${s.preview?`Preview: ${s.preview}`:""}`):alert(`🎉 ${e.name} added successfully!

❌ However, welcome email sending failed: ${s.error}`)}catch(t){alert(`🎉 ${e.name} added successfully!

❌ However, welcome email sending failed due to network error.`)}},w=async(a,s)=>{let r=e.find(e=>e.id===a);if(r){let n=r.totalGiven+s,o=new Date().toISOString().split("T")[0];t(e.map(e=>e.id===a?{...e,totalGiven:n,lastDonation:o}:e));try{let e={to:r.email,subject:"Thank you for your generous donation!",htmlContent:`<h2>Thank You for Your Generous Donation!</h2><p>Dear <strong>${r.name}</strong>,</p><p>Thank you so much for your generous donation of <strong>$${s.toLocaleString()}</strong>. Your support means the world to us and helps us continue our mission to make a positive impact in our community.</p><p>Your total contributions now amount to <strong>$${n.toLocaleString()}</strong>.</p><p>With gratitude,<br>The Nonprofit Team</p>`,variables:{DONOR_NAME:r.name,AMOUNT:s.toString()},type:"donation_acknowledgment"},t=await fetch("/api/send-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),a=await t.json();a.success?alert(`✅ Donation of $${s.toLocaleString()} recorded successfully!

📧 Automated thank you email sent to ${r.name} (${r.email}).

${a.preview?`Preview: ${a.preview}`:""}`):alert(`✅ Donation of $${s.toLocaleString()} recorded successfully!

❌ However, email sending failed: ${a.error}`)}catch(e){alert(`✅ Donation of $${s.toLocaleString()} recorded successfully!

❌ However, email sending failed due to network error.`)}}},j=a=>{confirm("Are you sure you want to delete this donor?")&&t(e.filter(e=>e.id!==a))},N=e=>{switch(e){case"Individual":return"bg-blue-100 text-blue-800";case"Foundation":return"bg-green-100 text-green-800";case"Corporate":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}};return(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Donor Management"}),(0,s.jsxs)("button",{onClick:()=>f(),className:"bg-blue-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 hover:bg-blue-700",children:[s.jsx(n.Z,{className:"h-4 w-4"}),"Add Donor"]})]}),s.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full min-w-[600px]",children:[s.jsx("thead",{className:"bg-gray-50",children:(0,s.jsxs)("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Given"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Donation"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(e=>(0,s.jsxs)("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsxs)("div",{className:"flex items-center",children:[s.jsx(o.Z,{className:"h-5 w-5 text-gray-400 mr-2"}),s.jsx("span",{className:"font-medium",children:e.name})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${N(e.type)}`,children:e.type})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[s.jsx(l.Z,{className:"h-3 w-3"}),e.email]}),(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[s.jsx(i.Z,{className:"h-3 w-3"}),e.phone]})]})}),(0,s.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap font-medium",children:["$",e.totalGiven.toLocaleString()]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:e.lastDonation}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsxs)("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>{let t=parseFloat(prompt("Enter donation amount:")||"0");t>0&&w(e.id,t)},className:"text-green-600 hover:text-green-900",title:"Record Donation",children:s.jsx(d.Z,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>f(e),className:"text-blue-600 hover:text-blue-900",children:s.jsx(c.Z,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>j(e.id),className:"text-red-600 hover:text-red-900",children:s.jsx(p.Z,{className:"h-4 w-4"})})]})})]},e.id))})]})})}),s.jsx(u.Z,{isOpen:a,onClose:v,title:x?"Edit Donor":"Add New Donor",children:(0,s.jsxs)("form",{onSubmit:a=>{if(a.preventDefault(),x)t(e.map(e=>e.id===x.id?{...e,...g}:e));else{let a={...g,id:Date.now(),totalGiven:0,lastDonation:"Never"};t([...e,a]),b(a)}v()},className:"space-y-4",children:[s.jsx("input",{type:"text",placeholder:"Full Name",value:g.name,onChange:e=>y({...g,name:e.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0}),(0,s.jsxs)("select",{value:g.type,onChange:e=>y({...g,type:e.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,children:[s.jsx("option",{value:"Individual",children:"Individual"}),s.jsx("option",{value:"Foundation",children:"Foundation"}),s.jsx("option",{value:"Corporate",children:"Corporate"})]}),s.jsx("input",{type:"email",placeholder:"Email",value:g.email,onChange:e=>y({...g,email:e.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0}),s.jsx("input",{type:"tel",placeholder:"Phone",value:g.phone,onChange:e=>y({...g,phone:e.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),(0,s.jsxs)("div",{className:"flex gap-3 pt-4",children:[s.jsx("button",{type:"submit",className:"flex-1 py-2 px-4 rounded-lg text-white font-medium bg-blue-600 hover:bg-blue-700",children:x?"Update":"Add"}),s.jsx("button",{type:"button",onClick:v,className:"flex-1 py-2 px-4 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50",children:"Cancel"})]})]})})]})}},3644:(e,t,a)=>{"use strict";a.d(t,{default:()=>x});var s=a(326),r=a(434),n=a(5047),o=a(6754),l=a(7427),i=a(4061),d=a(4975),c=a(7358),p=a(5932),u=a(6283);let m=[{label:"Dashboard",href:"/",icon:o.Z},{label:"Donors",href:"/donors",icon:l.Z},{label:"Volunteers",href:"/volunteers",icon:i.Z},{label:"Friends",href:"/friends",icon:d.Z},{label:"Events",href:"/events",icon:c.Z},{label:"Email & Newsletter",href:"/emails",icon:p.Z},{label:"Reports",href:"/reports",icon:u.Z}];function x(){let e=(0,n.usePathname)();return s.jsx("div",{className:"lg:w-64",children:s.jsx("nav",{className:"space-y-2",children:m.map(({label:t,href:a,icon:n})=>(0,s.jsxs)(r.default,{href:a,className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg text-left transition-colors ${e===a?"bg-blue-50 text-blue-700 border border-blue-200":"text-gray-600 hover:bg-gray-50"}`,children:[s.jsx(n,{className:"h-5 w-5"}),t]},a))})})}},790:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});var s=a(326),r=a(4019);function n({isOpen:e,onClose:t,title:a,children:n}){return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-2 sm:p-4 z-50",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg p-4 sm:p-6 w-full max-w-md sm:max-w-2xl lg:max-w-4xl max-h-[95vh] overflow-y-auto",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold truncate pr-4",children:a}),s.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700 flex-shrink-0",children:s.jsx(r.Z,{className:"w-6 h-6"})})]}),n]})}):null}},5206:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(2881).Z)("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]])},2887:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(2881).Z)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]])},3855:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(2881).Z)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},8091:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(2881).Z)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},9635:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(2881).Z)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},4019:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(2881).Z)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},4188:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});let s=(0,a(8570).createProxy)(String.raw`/workspace/app/donors/page.tsx#default`)},8517:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i,metadata:()=>l});var s=a(9510),r=a(2694),n=a.n(r);a(7633);let o=(0,a(8570).createProxy)(String.raw`/workspace/components/layout/TopNav.tsx#default`),l={title:"Nonprofit Management System",description:"A comprehensive nonprofit management application"};function i({children:e}){return s.jsx("html",{lang:"en",className:n().variable,children:s.jsx("body",{className:`${n().className} antialiased`,children:(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"flex justify-between items-center py-4",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Nonprofit Management System"}),(0,s.jsxs)("div",{className:"text-sm text-gray-500",children:["Welcome back! Today is ",new Date().toLocaleDateString()]})]})})}),s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,s.jsxs)("div",{className:"flex flex-col lg:flex-row gap-8",children:[s.jsx(o,{}),s.jsx("div",{className:"flex-1",children:e})]})})]})})})}},7633:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[276,154],()=>a(2631));module.exports=s})();