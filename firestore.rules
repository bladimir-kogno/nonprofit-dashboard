rules_version = '2';

service cloud.firestore {
  match /databases/{database}/documents {
    // Contacts collection - authenticated users can read/write
    match /contacts/{contactId} {
      allow read, write: if request.auth != null;
    }
    
    // Donors collection - authenticated users can read/write
    match /donors/{donorId} {
      allow read, write: if request.auth != null;
    }
    
    // Volunteers collection - authenticated users can read/write
    match /volunteers/{volunteerId} {
      allow read, write: if request.auth != null;
    }
    
    // Events collection - authenticated users can read/write
    match /events/{eventId} {
      allow read, write: if request.auth != null;
    }
    
    // Email campaigns and templates - authenticated users can read/write
    match /email_campaigns/{campaignId} {
      allow read, write: if request.auth != null;
    }
    
    match /email_templates/{templateId} {
      allow read, write: if request.auth != null;
    }
    
    // Email recipients - authenticated users can read/write
    match /email_recipients/{recipientId} {
      allow read, write: if request.auth != null;
    }
    
    // Reports and analytics - authenticated users can read/write
    match /reports/{reportId} {
      allow read, write: if request.auth != null;
    }
    
    // User profiles - users can read/write their own profile
    match /users/{userId} {
      allow read, write: if request.auth != null && request.auth.uid == userId;
    }
    
    // Admin settings - only authenticated users (you can add role-based rules later)
    match /admin_settings/{settingId} {
      allow read, write: if request.auth != null;
    }
  }
}